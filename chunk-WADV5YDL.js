import{a as y}from"./chunk-TOAMCINU.js";import{a as I,b as g,c as E,d as w,e as x,f,g as N,h as T,i as D,l as F}from"./chunk-HIGZWM4A.js";import{a as q}from"./chunk-324GRMPB.js";import"./chunk-RIFXOLWT.js";import"./chunk-XW3OYCXO.js";import"./chunk-MUYJWDKS.js";import{h as C,k as _}from"./chunk-SIW3RHZE.js";import{Db as h,Na as a,Ob as l,Qb as b,Ta as S,Ya as v,ab as p,sb as m,tb as n,ub as t,vb as u}from"./chunk-OSSRFVXA.js";function M(d,i){d&1&&(n(0,"div",18),l(1," Title is required "),t())}function O(d,i){d&1&&(n(0,"div",18),l(1," Header is required "),t())}function P(d,i){d&1&&(n(0,"div",18),l(1," Image is required "),t())}var G=class d{constructor(i,r){this.toastr=i;this.dashboardService=r;this.addSlider=new x({title:new f("",[g.required]),header:new f("",[g.required]),image:new f(null,[g.required])})}sliders=[];isEdit=!1;editSocial=null;selectedImage=null;addSlider;ngOnInit(){this.loadSliders()}loadSliders(){this.dashboardService.GetAllSlider().subscribe({next:i=>{this.sliders=i},error:()=>{this.toastr.error("Error loading sliders")}})}onImageChange(i){this.selectedImage=i.target.files[0]}onSubmit(){if(this.addSlider.invalid){this.toastr.warning("Please fill all required fields");return}let i=this.addSlider.value;if(this.selectedImage||this.isEdit){let r=new FormData;r.append("header",i.header),r.append("title",i.title),this.selectedImage&&r.append("image",this.selectedImage),this.isEdit&&this.editSocial?this.dashboardService.UpdateSlider(r,this.editSocial).subscribe({next:()=>{this.toastr.success("Slider updated successfully")},error:e=>{this.toastr.error(e.error?.message||"Something went wrong")}}):this.dashboardService.CreateSlider(r).subscribe({next:()=>{this.toastr.success("Slider added successfully")},error:e=>{this.toastr.error(e.error?.message||"Something went wrong")}})}else this.toastr.error("Please select an image")}static \u0275fac=function(r){return new(r||d)(S(q),S(y))};static \u0275cmp=v({type:d,selectors:[["app-slider-content"]],decls:27,vars:6,consts:[[1,"this"],[1,"row","total","g-4"],[1,"col-lg-7"],[1,"card","shadow-lg","border-0","rounded-lg"],[1,"card-header","bg-primary","text-white","text-center","py-4","rounded-top"],[1,"mb-0"],[1,"fas","fa-box-open","me-2"],[1,"card-body","p-4"],[3,"ngSubmit","formGroup"],[1,"form-group"],["for","title"],["type","text","id","title","formControlName","title","placeholder","Enter slider title",1,"form-control"],["class","text-danger",4,"ngIf"],["for","header"],["type","text","id","header","formControlName","header","placeholder","Enter slider header",1,"form-control"],["for","image"],["type","file","id","image","formControlName","image",1,"form-control",3,"change"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"text-danger"]],template:function(r,e){if(r&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h5",5),u(6,"i",6),l(7),t()(),n(8,"div",7)(9,"form",8),h("ngSubmit",function(){return e.onSubmit()}),n(10,"div",9)(11,"label",10),l(12,"Title"),t(),u(13,"input",11),p(14,M,2,0,"div",12),t(),n(15,"div",9)(16,"label",13),l(17,"Header"),t(),u(18,"input",14),p(19,O,2,0,"div",12),t(),n(20,"div",9)(21,"label",15),l(22,"Image"),t(),n(23,"input",16),h("change",function(s){return e.onImageChange(s)}),t(),p(24,P,2,0,"div",12),t(),n(25,"button",17),l(26,"Submit"),t()()()()()()()),r&2){let o,s,c;a(7),b(" ",e.isEdit?"Update ContentHomeSlider":"Create ContentHomeSlider"," "),a(2),m("formGroup",e.addSlider),a(5),m("ngIf",((o=e.addSlider.get("title"))==null?null:o.invalid)&&((o=e.addSlider.get("title"))==null?null:o.touched)),a(5),m("ngIf",((s=e.addSlider.get("header"))==null?null:s.invalid)&&((s=e.addSlider.get("header"))==null?null:s.touched)),a(5),m("ngIf",((c=e.addSlider.get("image"))==null?null:c.invalid)&&((c=e.addSlider.get("image"))==null?null:c.touched)),a(),m("disabled",e.addSlider.invalid)}},dependencies:[F,N,I,E,w,T,D,_,C],styles:[".this[_ngcontent-%COMP%]{margin-top:70px}.total[_ngcontent-%COMP%]{width:200%;justify-content:center}"]})};export{G as SliderContent};
