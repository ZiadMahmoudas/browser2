import{a as S}from"./chunk-IHPVNEB7.js";import{a as b}from"./chunk-TOAMCINU.js";import{a as v,b as u,c as I,d as y,g as E,h as w,i as C,j as F,k as N,l as x}from"./chunk-HIGZWM4A.js";import{a as D}from"./chunk-324GRMPB.js";import"./chunk-RIFXOLWT.js";import"./chunk-XW3OYCXO.js";import"./chunk-MUYJWDKS.js";import{k as h}from"./chunk-SIW3RHZE.js";import{Db as d,Na as c,Ob as a,Qb as m,Ta as n,Ya as f,sb as g,tb as r,ub as o,vb as l}from"./chunk-OSSRFVXA.js";var _=class p{constructor(t,i,e,s){this.toastr=t;this.fb=i;this.route=e;this.dashboardService=s}addSocial;isEdit=!1;editSocial=null;selectedImage=null;ngOnInit(){this.initForms();let t=this.route.snapshot.params.id;t&&(this.isEdit=!0,this.editSocial=+t,this.getSocialIconDetails(this.editSocial))}initForms(){this.addSocial=this.fb.group({Link:["",u.required],IconImageUrl:[null],name:["",u.required]})}getSocialIconDetails(t){this.dashboardService.GetAllSocial().subscribe({next:i=>{let e=i.find(s=>s.id===t);e&&this.addSocial.patchValue({Link:e.Link,IconImageUrl:e.IconImageUrl,name:e.name})},error:()=>{this.toastr.error("Error loading social icon details")}})}onImageChange(t){this.selectedImage=t.target.files[0]}onSubmit(){if(this.addSocial.invalid){this.toastr.warning("Please fill all required fields");return}let t=this.addSocial.value;if(this.selectedImage||this.isEdit){let i=new FormData;i.append("Link",t.Link),i.append("name",t.name),this.selectedImage&&i.append("IconImageUrl",this.selectedImage),this.isEdit&&this.editSocial?this.dashboardService.UpdateSocial(i,this.editSocial).subscribe({next:()=>{this.toastr.success("Social icon updated successfully")},error:e=>{this.toastr.error(e.error?.message||"Something went wrong")}}):this.dashboardService.CreateSocial(i).subscribe({next:()=>{this.toastr.success("Social icon added successfully")},error:e=>{this.toastr.error(e.error?.message||"Something went wrong")}})}else this.toastr.error("Please select an image")}static \u0275fac=function(i){return new(i||p)(n(D),n(N),n(S),n(b))};static \u0275cmp=f({type:p,selectors:[["app-social"]],decls:26,vars:3,consts:[[1,"this"],[1,"row","total","g-4"],[1,"col-lg-7"],[1,"card","shadow-lg","border-0","rounded-lg"],[1,"card-header","bg-primary","text-white","text-center","py-4","rounded-top"],[1,"mb-0"],[1,"fas","fa-box-open","me-2"],[1,"card-body","p-4"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","Link",1,"form-label","fw-bold"],["id","Link","type","url","formControlName","Link","placeholder","Enter the URL for the icon","required","",1,"form-control","form-control-lg"],["for","name",1,"form-label","fw-bold"],["id","name","type","text","formControlName","name","placeholder","Enter Name for the icon","required","",1,"form-control","form-control-lg"],["for","IconImageUrl",1,"form-label","fw-bold"],["type","file","id","IconImageUrl","formControlName","IconImageUrl","accept","image/*","required","",1,"form-control","form-control-lg",3,"change"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg"],[1,"fas","fa-plus-circle","me-2"]],template:function(i,e){i&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),l(6,"i",6),a(7),o()(),r(8,"div",7)(9,"form",8),d("ngSubmit",function(){return e.onSubmit()}),r(10,"div",9)(11,"label",10),a(12,"Link to Icon"),o(),l(13,"input",11),o(),r(14,"div",9)(15,"label",12),a(16,"Name to Icon"),o(),l(17,"input",13),o(),r(18,"div",9)(19,"label",14),a(20,"Icon Image"),o(),r(21,"input",15),d("change",function(U){return e.onImageChange(U)}),o()(),r(22,"div",16)(23,"button",17),l(24,"i",18),a(25),o()()()()()()()()),i&2&&(c(7),m(" ",e.isEdit?"Update Social Icon":"Add New Social Icon"," "),c(2),g("formGroup",e.addSocial),c(16),m(" ",e.isEdit?"Update Social Icon":"Add Social Icon"," "))},dependencies:[h,x,E,v,I,y,F,w,C],styles:[".this[_ngcontent-%COMP%]{margin-top:70px}.total[_ngcontent-%COMP%]{width:150%;justify-content:center}"]})};export{_ as Social};
